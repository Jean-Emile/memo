// Create an insertion request.
::InsertRequest insert;
// Create a mutable block creation request.
::MakeMutableBlockRequest empty;
// Construction.
{
   // Set a context.
   grpc::ClientContext ctx;
   // Create the mutable block and store the result in the insertion request
   // field.
   //
   // N.B. `mutable_` is to access to a mutable version of the attribute
   // `block`. It's not correlated with MutableBlock or ImmutableBlock.
   auto status = kv->MakeMutableBlock(&ctx, empty, insert.mutable_block());
   if (!status.ok())
     throw std::runtime_error("Cannot make mutable block");
   // Set the payload.
   insert.mutable_block()->set_data_plain("some data");
}
{
  // Create an insertion response.
  ::InsertResponse insertion;
  // Set a context.
  grpc::ClientContext ctx;
  // Actually insert the block.
  auto status = kv->Insert(&ctx, insert, &insertion);
  if (!status.ok())
    throw std::runtime_error("Cannot insert block");
}
