// Given a block `block` and a payload `payload`.
//
// The block new payload.
block.set_data_plain(payload);
{
  // Create a context.
  grpc::ClientContext ctx;
  // Create an update request.
  ::UpdateRequest update;
  // Set the update request `block` field with the updated version of the block.
  update.mutable_block()->CopyFrom(mb);
  // Set the update request `decrypt_data` field to `true` so the `block` field
  // of the update response will be decrypted. This is useful if you need to fix
  // potential conflicts resulting of the update.
  update.set_decrypt_data(true);
  // Actually update the block.
  kv->Update(&ctx, update, &response);
}
